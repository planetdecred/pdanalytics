{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./public/index.js","webpack:///./public/js/controllers sync \\.js$","webpack:///./public/js/controllers/menu_controller.js","webpack:///./public/js/controllers/stakingreward_controller.js","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./public/js/helpers/turbolinks_helper.js","webpack:///./public/js/helpers/module_helper.js","webpack:///./public/js/controllers/attackcost_controller.js","webpack:///./public/js/services/messagesocket_service.js","webpack:///./public/js/controllers/status_controller.js","webpack:///./public/js/services/event_bus_service.js","webpack:///./public/js/services/cookie_service.js","webpack:///./public/js/services/theme_service.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","e","requireEnsure","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","jsonpScriptSrc","p","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","require","darkEnabled","application","Application","start","context","load","definitionsFromContext","addEventListener","querySelectorAll","forEach","el","classList","remove","loggingDebug","localStorage","getItem","logDebug","yes","setItem","map","webpackContext","req","id","webpackContextResolve","code","keys","webpackContextKeys","this","clickout","_clickout","formTargets","form","preventDefault","closest","parentNode","nodeName","srcElement","removeEventListener","closeMenu","toggleTarget","checked","toggleSun","Controller","height","parseInt","ticketPrice","parseFloat","dcrPrice","ticketReward","rewardPeriod","blockHeightTarget","textContent","ticketPriceTarget","toFixed","ticketRewardTarget","rewardPeriodTarget","priceDCRTarget","dcrPriceTarget","_this","amount","amountTarget","startDate","moment","startDateTarget","endDate","endDateTarget","days","duration","diff","asDays","alert","startDateUnix","Date","getTime","endDateUnix","url","axios","then","response","ticketsTarget","amountTextTarget","amountUsdTarget","daysTextTarget","totalPercentage","reward","totalAmount","percentageRoiTarget","amountRoiTarget","amountRoiUsdTarget","TurboQuery","turbolinks","tq","replaceTimer","appendTimer","Turbolinks","supported","replaceHistory","_replaceHistory","appendHistory","_appendHistory","Url","location","href","controller","replaceHistoryWithLocationAndRestorationIdentifier","Location","wrap","uuid","pushHistoryWithLocationAndRestorationIdentifier","query","set","filteredQuery","replaceHref","toHref","filtered","v","constructor","project","parsed","parseValue","isNaN","isFinite","String","includes","source","idx","k","dynamicImportPromise","Dygraph","hashrate","tpSize","tpValue","tpPrice","graphData","currentPoint","coinSupply","digitformat","decimalPlaces","noComma","toLocaleString","minimumFractionDigits","maximumFractionDigits","replace","indexOf","endsWith","removeTrailingZeros","toString","cutFrom","substr","rateCalculation","y","x","Math","pow","deviceList","units","power","cost","link","legendFormatter","html","dashLabels","series","reduce","nodes","labelHTML","getLabels","yVals","isVisible","precession","dompurify","sanitize","nightModeOptions","nightModeOn","rangeSelectorAlpha","gridLineColor","colors","settings","nullTemplate","update","defaultSettings","attack_time","target_pow","kwh_rate","other_costs","target_pos","price","device","attack_type","attackPeriodTarget","targetPowTarget","kwhRateTarget","otherCostsTarget","other_cost","setAllInputs","targetPosTargets","setDevice","attackTypeTarget","attackPercentTarget","targetPosTarget","setDevicesDesc","updateSliderData","doZoomY_","lowY","highY","plotGraph","processNightMode","params","chartsView","updateOptions","nightMode","globalEventBus","on","off","destroy","that","ratioTable","Map","options","labels","ylabel","xlabel","axes","axisLabelWidth","highlightSeriesOpts","strokeWidth","hideOverlayOnMouseOut","labelsDiv","labelsTarget","labelsSeparateLines","showRangeSelector","labelsKMB","legend","logscale","interactionModel","highlightCallback","graphTarget","setAnnotations","shortText","text","setActivePoint","defaults","preserveTargetPow","targetPercentage","currentTarget","previousKey","previousValue","gap","abs","preGap","selectedDevice","selectedAttackType","preserveTargetPoS","updateQueryString","deviceTarget","val","selected","deviceDescTargets","info","innerHTML","selectedVal","setOption","deviceTargets","min","row","getRowForX","setSelection","ticketPercentage","targetHashRate","powPercentage","setAllValues","internalHashTargets","newHashRateTargets","additionalHashRateTargets","projectedPriceDivTarget","style","display","internalAttackTextTarget","add","internalAttackPosTextTarget","externalAttackTextTarget","externalAttackPosTextTarget","updateTargetHashRate","hideAll","internalAttackPosTextTargets","showAll","externalAttackPosTextTargets","calculate","disableHashRateUpdate","ticketAttackSize","DCRNeed","deviceInfo","deviceCount","ceil","totalDeviceCost","totalKwh","totalElectricity","extraCost","totalPow","newTicketPoolValueTargets","additionalDcrTargets","ticketPoolAttackTargets","projectedTicketPrice","projectedTicketPriceIncreaseTarget","ticketPoolValueTarget","totalDCRPos","totalPos","timeStr","ticketPoolSizeLabelTarget","actualHashRateTargets","targetHashRateTargets","durationLongDescTargets","countDeviceTargets","deviceNameTargets","totalDeviceCostTargets","totalKwhTargets","totalElectricityTargets","otherCostsValueTargets","totalPowTargets","ticketSizeAttackTargets","totalDCRPosTargets","totalPosTargets","ticketPoolValueTargets","ticketPoolSizeTargets","totalTarget","projectedTicketPriceTarget","attackPosPercentAmountLabelTarget","totalDCRPosLabelTargets","dcrPriceLabelTargets","showPosCostWarning","targets","totalDCRInCirculation","coinSupplyTarget","totalAttackCostContainerTarget","cssText","attackNotPossibleWrapperDivTargets","forward","handlers","ws","uri","connection","queue","maxQlength","eventID","handler","payload","JSON","stringify","log","send","WebSocket","close","reason","pinger","onmessage","evt","json","parse","onclose","onopen","setInterval","buildProgressBar","clean","progressVal","percentage_complete","timeRemaining","humanizeTime","secs","years","floor","months","weeks","hours","minutes","timeUnit","join","seconds_to_complete","htmlString","bar_msg","FORBID_TAGS","subtitle","trim","notifStr","remainingStr","hasRedirected","progressBars","initTarget","addressTarget","registerEvtHandler","bar","progress_bar_id","firstChild","removeChild","Notify","needsPermission","body","tag","image","icon","notifyShow","onShowNotification","notifyClose","onCloseNotification","notifyClick","onClickNotification","notifyError","onErrorNotification","show","messageTarget","querySelector","visit","processBlock","_processBlock","deregisterEvtHandlers","blockData","hasFutureBlockTarget","action","eventCallbacksPairs","findEventCallbacksPair","eventType","find","eventObject","EventCallbacksPair","callback","callbacks","eventBusInstance","eventCallbacksPair","cb","args","setCookie","cname","cvalue","exMins","setTime","expires","toUTCString","cookie","sunIcon","getElementById","menuToggle","toggleToDarkClasses","toggleToLightClasses","publish","checkbox","dispatchEvent","Event","newBody"],"mappings":"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","file":"js/app.bundle.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"1\":\"dygraphs\"}[chunkId]||chunkId) + \".bundle.js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([160,2]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import 'regenerator-runtime/runtime'\r\n/* global require */\r\nimport { Application } from 'stimulus'\r\nimport { definitionsFromContext } from 'stimulus/webpack-helpers'\r\nimport { darkEnabled } from './js/services/theme_service'\r\n\r\nrequire('./scss/application.scss')\r\n\r\nwindow.darkEnabled = darkEnabled\r\n\r\nconst application = Application.start()\r\nconst context = require.context('./js/controllers', true, /\\.js$/)\r\napplication.load(definitionsFromContext(context))\r\n\r\ndocument.addEventListener('turbolinks:load', function (e) {\r\n  document.querySelectorAll('.jsonly').forEach((el) => {\r\n    el.classList.remove('jsonly')\r\n  })\r\n})\r\n\r\n// Debug logging can be enabled by entering logDebug(true) in the console.\r\n// Your setting will persist across sessions.\r\nwindow.loggingDebug = window.localStorage.getItem('loggingDebug') === '1'\r\nwindow.logDebug = yes => {\r\n  window.loggingDebug = yes\r\n  window.localStorage.setItem('loggingDebug', yes ? '1' : '0')\r\n  return 'debug logging set to ' + (yes ? 'true' : 'false')\r\n}\r\n","var map = {\n\t\"./attackcost_controller.js\": 188,\n\t\"./menu_controller.js\": 166,\n\t\"./stakingreward_controller.js\": 167,\n\t\"./status_controller.js\": 189\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 163;","import { Controller } from 'stimulus'\r\nimport { closeMenu, toggleSun } from '../services/theme_service'\r\n\r\nfunction closest (el, id) {\r\n  // https://stackoverflow.com/a/48726873/1124661\r\n  if (el.id === id) {\r\n    return el\r\n  }\r\n  if (el.parentNode && el.parentNode.nodeName !== 'BODY') {\r\n    return closest(el.parentNode, id)\r\n  }\r\n  return null\r\n}\r\n\r\nexport default class extends Controller {\r\n  static get targets () {\r\n    return ['toggle', 'darkModeToggle', 'form']\r\n  }\r\n\r\n  connect () {\r\n    this.clickout = this._clickout.bind(this)\r\n    this.formTargets.forEach(form => {\r\n      form.addEventListener('submit', e => {\r\n        e.preventDefault()\r\n        return false\r\n      })\r\n    })\r\n  }\r\n\r\n  _clickout (e) {\r\n    var target = e.target || e.srcElement\r\n    if (!closest(target, 'hamburger-menu')) {\r\n      document.removeEventListener('click', this.clickout)\r\n      closeMenu()\r\n    }\r\n  }\r\n\r\n  toggle (e) {\r\n    if (this.toggleTarget.checked) {\r\n      document.addEventListener('click', this.clickout)\r\n    }\r\n  }\r\n\r\n  onSunClick () {\r\n    toggleSun()\r\n  }\r\n}\r\n","import { Controller } from 'stimulus'\r\nimport axios from 'axios'\r\nimport moment from 'moment'\r\n\r\nexport default class extends Controller {\r\n  static get targets () {\r\n    return [\r\n      'blockHeight', 'ticketPrice', 'ticketReward', 'rewardPeriod',\r\n      'startDate', 'endDate',\r\n      'priceDCR', 'dayText', 'amount', 'amountText', 'days', 'daysText',\r\n      'amountRoi', 'percentageRoi', 'tickets', 'amountUsd', 'amountRoiUsd'\r\n    ]\r\n  }\r\n\r\n  async connect () {\r\n    this.height = parseInt(this.data.get('height'))\r\n    this.ticketPrice = parseFloat(this.data.get('ticketPrice'))\r\n    this.dcrPrice = parseFloat(this.data.get('dcrprice'))\r\n    this.ticketReward = parseFloat(this.data.get('ticketReward'))\r\n    this.rewardPeriod = parseFloat(this.data.get('rewardPeriod'))\r\n\r\n    this.blockHeightTarget.textContent = this.height\r\n    this.ticketPriceTarget.textContent = this.ticketPrice.toFixed(2)\r\n    this.ticketRewardTarget.textContent = this.ticketReward.toFixed(2)\r\n    this.rewardPeriodTarget.textContent = this.rewardPeriod.toFixed(2)\r\n\r\n    this.priceDCRTarget.value = this.dcrPrice.toFixed(2)\r\n  }\r\n\r\n  updatePrice () {\r\n    this.dcrPrice = parseInt(this.dcrPriceTarget.value)\r\n  }\r\n\r\n  calculate () {\r\n    const _this = this\r\n    const amount = parseFloat(this.amountTarget.value)\r\n    if (!(amount > 0)) {\r\n      window.alert('Amount must be greater than 0')\r\n      return\r\n    }\r\n    let startDate = moment(this.startDateTarget.value)\r\n    let endDate = moment(this.endDateTarget.value)\r\n\r\n    const days = moment.duration(endDate.diff(startDate)).asDays()\r\n    if (days < this.rewardPeriod) {\r\n      window.alert(`You must stake for ${this.rewardPeriod.toFixed(2)} days and above`)\r\n      return\r\n    }\r\n\r\n    let startDateUnix = new Date(this.startDateTarget.value).getTime()\r\n    let endDateUnix = new Date(this.endDateTarget.value).getTime()\r\n    let url = `/staking-reward/get-future-reward?startDate=${startDateUnix}&endDate=${endDateUnix}&startingBalance=${amount}`\r\n    axios.get(url).then(function (response) {\r\n      let result = response.data\r\n\r\n      _this.ticketsTarget.textContent = parseInt(amount / result.ticketPrice)\r\n      _this.amountTextTarget.textContent = amount\r\n      _this.amountUsdTarget.textContent = (amount * _this.dcrPrice).toFixed(2)\r\n      _this.daysTextTarget.textContent = days\r\n\r\n      // number of periods\r\n      const totalPercentage = result.reward\r\n      const totalAmount = totalPercentage * amount * 1 / 100\r\n      _this.percentageRoiTarget.textContent = totalPercentage.toFixed(2)\r\n      _this.amountRoiTarget.textContent = totalAmount.toFixed(2)\r\n      _this.amountRoiUsdTarget.textContent = (totalAmount * _this.dcrPrice).toFixed(2)\r\n    })\r\n  }\r\n}\r\n","var map = {\n\t\"./af\": 21,\n\t\"./af.js\": 21,\n\t\"./ar\": 22,\n\t\"./ar-dz\": 23,\n\t\"./ar-dz.js\": 23,\n\t\"./ar-kw\": 24,\n\t\"./ar-kw.js\": 24,\n\t\"./ar-ly\": 25,\n\t\"./ar-ly.js\": 25,\n\t\"./ar-ma\": 26,\n\t\"./ar-ma.js\": 26,\n\t\"./ar-sa\": 27,\n\t\"./ar-sa.js\": 27,\n\t\"./ar-tn\": 28,\n\t\"./ar-tn.js\": 28,\n\t\"./ar.js\": 22,\n\t\"./az\": 29,\n\t\"./az.js\": 29,\n\t\"./be\": 30,\n\t\"./be.js\": 30,\n\t\"./bg\": 31,\n\t\"./bg.js\": 31,\n\t\"./bm\": 32,\n\t\"./bm.js\": 32,\n\t\"./bn\": 33,\n\t\"./bn-bd\": 34,\n\t\"./bn-bd.js\": 34,\n\t\"./bn.js\": 33,\n\t\"./bo\": 35,\n\t\"./bo.js\": 35,\n\t\"./br\": 36,\n\t\"./br.js\": 36,\n\t\"./bs\": 37,\n\t\"./bs.js\": 37,\n\t\"./ca\": 38,\n\t\"./ca.js\": 38,\n\t\"./cs\": 39,\n\t\"./cs.js\": 39,\n\t\"./cv\": 40,\n\t\"./cv.js\": 40,\n\t\"./cy\": 41,\n\t\"./cy.js\": 41,\n\t\"./da\": 42,\n\t\"./da.js\": 42,\n\t\"./de\": 43,\n\t\"./de-at\": 44,\n\t\"./de-at.js\": 44,\n\t\"./de-ch\": 45,\n\t\"./de-ch.js\": 45,\n\t\"./de.js\": 43,\n\t\"./dv\": 46,\n\t\"./dv.js\": 46,\n\t\"./el\": 47,\n\t\"./el.js\": 47,\n\t\"./en-au\": 48,\n\t\"./en-au.js\": 48,\n\t\"./en-ca\": 49,\n\t\"./en-ca.js\": 49,\n\t\"./en-gb\": 50,\n\t\"./en-gb.js\": 50,\n\t\"./en-ie\": 51,\n\t\"./en-ie.js\": 51,\n\t\"./en-il\": 52,\n\t\"./en-il.js\": 52,\n\t\"./en-in\": 53,\n\t\"./en-in.js\": 53,\n\t\"./en-nz\": 54,\n\t\"./en-nz.js\": 54,\n\t\"./en-sg\": 55,\n\t\"./en-sg.js\": 55,\n\t\"./eo\": 56,\n\t\"./eo.js\": 56,\n\t\"./es\": 57,\n\t\"./es-do\": 58,\n\t\"./es-do.js\": 58,\n\t\"./es-mx\": 59,\n\t\"./es-mx.js\": 59,\n\t\"./es-us\": 60,\n\t\"./es-us.js\": 60,\n\t\"./es.js\": 57,\n\t\"./et\": 61,\n\t\"./et.js\": 61,\n\t\"./eu\": 62,\n\t\"./eu.js\": 62,\n\t\"./fa\": 63,\n\t\"./fa.js\": 63,\n\t\"./fi\": 64,\n\t\"./fi.js\": 64,\n\t\"./fil\": 65,\n\t\"./fil.js\": 65,\n\t\"./fo\": 66,\n\t\"./fo.js\": 66,\n\t\"./fr\": 67,\n\t\"./fr-ca\": 68,\n\t\"./fr-ca.js\": 68,\n\t\"./fr-ch\": 69,\n\t\"./fr-ch.js\": 69,\n\t\"./fr.js\": 67,\n\t\"./fy\": 70,\n\t\"./fy.js\": 70,\n\t\"./ga\": 71,\n\t\"./ga.js\": 71,\n\t\"./gd\": 72,\n\t\"./gd.js\": 72,\n\t\"./gl\": 73,\n\t\"./gl.js\": 73,\n\t\"./gom-deva\": 74,\n\t\"./gom-deva.js\": 74,\n\t\"./gom-latn\": 75,\n\t\"./gom-latn.js\": 75,\n\t\"./gu\": 76,\n\t\"./gu.js\": 76,\n\t\"./he\": 77,\n\t\"./he.js\": 77,\n\t\"./hi\": 78,\n\t\"./hi.js\": 78,\n\t\"./hr\": 79,\n\t\"./hr.js\": 79,\n\t\"./hu\": 80,\n\t\"./hu.js\": 80,\n\t\"./hy-am\": 81,\n\t\"./hy-am.js\": 81,\n\t\"./id\": 82,\n\t\"./id.js\": 82,\n\t\"./is\": 83,\n\t\"./is.js\": 83,\n\t\"./it\": 84,\n\t\"./it-ch\": 85,\n\t\"./it-ch.js\": 85,\n\t\"./it.js\": 84,\n\t\"./ja\": 86,\n\t\"./ja.js\": 86,\n\t\"./jv\": 87,\n\t\"./jv.js\": 87,\n\t\"./ka\": 88,\n\t\"./ka.js\": 88,\n\t\"./kk\": 89,\n\t\"./kk.js\": 89,\n\t\"./km\": 90,\n\t\"./km.js\": 90,\n\t\"./kn\": 91,\n\t\"./kn.js\": 91,\n\t\"./ko\": 92,\n\t\"./ko.js\": 92,\n\t\"./ku\": 93,\n\t\"./ku.js\": 93,\n\t\"./ky\": 94,\n\t\"./ky.js\": 94,\n\t\"./lb\": 95,\n\t\"./lb.js\": 95,\n\t\"./lo\": 96,\n\t\"./lo.js\": 96,\n\t\"./lt\": 97,\n\t\"./lt.js\": 97,\n\t\"./lv\": 98,\n\t\"./lv.js\": 98,\n\t\"./me\": 99,\n\t\"./me.js\": 99,\n\t\"./mi\": 100,\n\t\"./mi.js\": 100,\n\t\"./mk\": 101,\n\t\"./mk.js\": 101,\n\t\"./ml\": 102,\n\t\"./ml.js\": 102,\n\t\"./mn\": 103,\n\t\"./mn.js\": 103,\n\t\"./mr\": 104,\n\t\"./mr.js\": 104,\n\t\"./ms\": 105,\n\t\"./ms-my\": 106,\n\t\"./ms-my.js\": 106,\n\t\"./ms.js\": 105,\n\t\"./mt\": 107,\n\t\"./mt.js\": 107,\n\t\"./my\": 108,\n\t\"./my.js\": 108,\n\t\"./nb\": 109,\n\t\"./nb.js\": 109,\n\t\"./ne\": 110,\n\t\"./ne.js\": 110,\n\t\"./nl\": 111,\n\t\"./nl-be\": 112,\n\t\"./nl-be.js\": 112,\n\t\"./nl.js\": 111,\n\t\"./nn\": 113,\n\t\"./nn.js\": 113,\n\t\"./oc-lnc\": 114,\n\t\"./oc-lnc.js\": 114,\n\t\"./pa-in\": 115,\n\t\"./pa-in.js\": 115,\n\t\"./pl\": 116,\n\t\"./pl.js\": 116,\n\t\"./pt\": 117,\n\t\"./pt-br\": 118,\n\t\"./pt-br.js\": 118,\n\t\"./pt.js\": 117,\n\t\"./ro\": 119,\n\t\"./ro.js\": 119,\n\t\"./ru\": 120,\n\t\"./ru.js\": 120,\n\t\"./sd\": 121,\n\t\"./sd.js\": 121,\n\t\"./se\": 122,\n\t\"./se.js\": 122,\n\t\"./si\": 123,\n\t\"./si.js\": 123,\n\t\"./sk\": 124,\n\t\"./sk.js\": 124,\n\t\"./sl\": 125,\n\t\"./sl.js\": 125,\n\t\"./sq\": 126,\n\t\"./sq.js\": 126,\n\t\"./sr\": 127,\n\t\"./sr-cyrl\": 128,\n\t\"./sr-cyrl.js\": 128,\n\t\"./sr.js\": 127,\n\t\"./ss\": 129,\n\t\"./ss.js\": 129,\n\t\"./sv\": 130,\n\t\"./sv.js\": 130,\n\t\"./sw\": 131,\n\t\"./sw.js\": 131,\n\t\"./ta\": 132,\n\t\"./ta.js\": 132,\n\t\"./te\": 133,\n\t\"./te.js\": 133,\n\t\"./tet\": 134,\n\t\"./tet.js\": 134,\n\t\"./tg\": 135,\n\t\"./tg.js\": 135,\n\t\"./th\": 136,\n\t\"./th.js\": 136,\n\t\"./tk\": 137,\n\t\"./tk.js\": 137,\n\t\"./tl-ph\": 138,\n\t\"./tl-ph.js\": 138,\n\t\"./tlh\": 139,\n\t\"./tlh.js\": 139,\n\t\"./tr\": 140,\n\t\"./tr.js\": 140,\n\t\"./tzl\": 141,\n\t\"./tzl.js\": 141,\n\t\"./tzm\": 142,\n\t\"./tzm-latn\": 143,\n\t\"./tzm-latn.js\": 143,\n\t\"./tzm.js\": 142,\n\t\"./ug-cn\": 144,\n\t\"./ug-cn.js\": 144,\n\t\"./uk\": 145,\n\t\"./uk.js\": 145,\n\t\"./ur\": 146,\n\t\"./ur.js\": 146,\n\t\"./uz\": 147,\n\t\"./uz-latn\": 148,\n\t\"./uz-latn.js\": 148,\n\t\"./uz.js\": 147,\n\t\"./vi\": 149,\n\t\"./vi.js\": 149,\n\t\"./x-pseudo\": 150,\n\t\"./x-pseudo.js\": 150,\n\t\"./yo\": 151,\n\t\"./yo.js\": 151,\n\t\"./zh-cn\": 152,\n\t\"./zh-cn.js\": 152,\n\t\"./zh-hk\": 153,\n\t\"./zh-hk.js\": 153,\n\t\"./zh-mo\": 154,\n\t\"./zh-mo.js\": 154,\n\t\"./zh-tw\": 155,\n\t\"./zh-tw.js\": 155\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 187;","/* global Turbolinks */\r\nimport Url from 'url-parse'\r\n\r\nexport default class TurboQuery {\r\n  constructor (turbolinks) {\r\n    var tq = this\r\n    tq.replaceTimer = 0\r\n    tq.appendTimer = 0\r\n    tq.turbolinks = turbolinks || Turbolinks || false\r\n    if (!tq.turbolinks || !tq.turbolinks.supported) {\r\n      console.error('No passed or global Turbolinks instance detected. TurboQuery requires Turbolinks.')\r\n      return\r\n    }\r\n    // These are timer callbacks. Bind them to the TurboQuery instance.\r\n    tq.replaceHistory = tq._replaceHistory.bind(tq)\r\n    tq.appendHistory = tq._appendHistory.bind(tq)\r\n    tq.url = Url(window.location.href, true)\r\n  }\r\n\r\n  replaceHref () {\r\n    // Rerouting through timer to prevent spamming.\r\n    // Turbolinks blocks replacement if frequency too high.\r\n    if (this.replaceTimer === 0) {\r\n      this.replaceTimer = setTimeout(this.replaceHistory, 250)\r\n    }\r\n  }\r\n\r\n  toHref () {\r\n    if (this.appendTimer === 0) {\r\n      this.appendTimer = setTimeout(this.appendHistory, 250)\r\n    }\r\n  }\r\n\r\n  _replaceHistory () {\r\n    // see https://github.com/turbolinks/turbolinks/issues/219. This also works:\r\n    // window.history.replaceState(window.history.state, this.addr, this.url.href)\r\n    this.turbolinks.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.turbolinks.Location.wrap(this.url.href), this.turbolinks.uuid())\r\n    this.replaceTimer = 0\r\n  }\r\n\r\n  _appendHistory () {\r\n    // same as replaceHref, but creates a new entry in history for navigating\r\n    // with the browsers forward and back buttons. May still not work because of\r\n    // TurboLinks caching behavior, I think.\r\n    this.turbolinks.controller.pushHistoryWithLocationAndRestorationIdentifier(this.turbolinks.Location.wrap(this.url.href), this.turbolinks.uuid())\r\n    this.appendTimer = 0\r\n  }\r\n\r\n  replace (query) {\r\n    this.url.set('query', this.filteredQuery(query))\r\n    this.replaceHref()\r\n  }\r\n\r\n  to (query) {\r\n    this.url.set('query', this.filteredQuery(query))\r\n    this.toHref()\r\n  }\r\n\r\n  filteredQuery (query) {\r\n    var filtered = {}\r\n    Object.keys(query).forEach(function (key) {\r\n      var v = query[key]\r\n      if (typeof v === 'undefined' || v === null) return\r\n      filtered[key] = v\r\n    })\r\n    return filtered\r\n  }\r\n\r\n  update (target) {\r\n    // Update projects the current query parameters onto the given template.\r\n    return this.constructor.project(target, this.parsed)\r\n  }\r\n\r\n  get parsed () {\r\n    return this.url.query\r\n  }\r\n\r\n  // Not an ES5 getter.\r\n  get (key) {\r\n    if (this.url.query.hasOwnProperty(key)) {\r\n      return TurboQuery.parseValue(this.url.query[key])\r\n    }\r\n    return null\r\n  }\r\n\r\n  static parseValue (v) {\r\n    switch (v) {\r\n      case 'null':\r\n        return null\r\n      case '':\r\n        return null\r\n      case 'undefined':\r\n        return null\r\n      case 'false':\r\n        return false\r\n      case 'true':\r\n        return true\r\n    }\r\n    if (!isNaN(parseFloat(v)) && isFinite(v)) {\r\n      if (String(v).includes('.')) {\r\n        return parseFloat(v)\r\n      } else {\r\n        return parseInt(v)\r\n      }\r\n    }\r\n    return v\r\n  }\r\n\r\n  static project (target, source) {\r\n    // project fills in the properties of the given template, if they exist in\r\n    // the source. Extraneous source properties are not added to the template.\r\n    var keys = Object.keys(target)\r\n    var idx\r\n    for (idx in keys) {\r\n      var k = keys[idx]\r\n      if (source.hasOwnProperty(k)) {\r\n        target[k] = this.parseValue(source[k])\r\n      }\r\n    }\r\n    return target\r\n  }\r\n\r\n  static nullTemplate (keys) {\r\n    var d = {}\r\n    keys.forEach((key) => {\r\n      d[key] = null\r\n    })\r\n    return d\r\n  }\r\n}\r\n","// helpers for dynamic module imports\r\n\r\nexport async function getDefault (dynamicImportPromise) {\r\n  let module = await dynamicImportPromise\r\n  return new Promise(resolve => {\r\n    resolve(module.default)\r\n  })\r\n}\r\n","import { Controller } from 'stimulus'\r\nimport TurboQuery from '../helpers/turbolinks_helper'\r\nimport { getDefault } from '../helpers/module_helper'\r\nimport globalEventBus from '../services/event_bus_service'\r\nimport dompurify from 'dompurify'\r\n\r\nfunction digitformat (amount, decimalPlaces, noComma) {\r\n  if (!amount) return 0\r\n\r\n  if (noComma) return amount.toFixed(decimalPlaces)\r\n\r\n  decimalPlaces = decimalPlaces || 0\r\n  let result = parseFloat(amount).toLocaleString(undefined, { minimumFractionDigits: decimalPlaces, maximumFractionDigits: decimalPlaces }).replace(/\\.0*$/, '')\r\n  if (result.indexOf('.') > -1 && result.endsWith('0')) {\r\n    return removeTrailingZeros(result)\r\n  }\r\n\r\n  return result\r\n}\r\n\r\nfunction removeTrailingZeros (value) {\r\n  value = value.toString()\r\n  if (value.indexOf('.') === -1) {\r\n    return value\r\n  }\r\n\r\n  let cutFrom = value.length - 1\r\n  do {\r\n    if (value[cutFrom] === '0') {\r\n      cutFrom--\r\n    }\r\n  } while (value[cutFrom] === '0')\r\n\r\n  if (value[cutFrom] === '.') {\r\n    cutFrom--\r\n  }\r\n\r\n  return value.substr(0, cutFrom + 1)\r\n}\r\n\r\nlet Dygraph // lazy loaded on connect\r\nvar height, dcrPrice, hashrate, tpSize, tpValue, tpPrice, graphData, currentPoint, coinSupply\r\n\r\nfunction rateCalculation (y) {\r\n  y = y || 0.99 // 0.99 TODO confirm why 0.99 is used as default instead of 1\r\n  let x = 1 - y\r\n\r\n  // equation to determine hashpower requirement based on percentage of live stake\r\n  // https://medium.com/decred/decreds-hybrid-protocol-a-superior-deterrent-to-majority-attacks-9421bf486292\r\n  // (6 (1-f_s) -15(1-f_s) + 10(1-f_s)) / (6f_s-15f_s + 10f_s)\r\n  // (6x-15x +10x) / (6y-15y +10y) where y = this.value and x = 1-y\r\n  return ((6 * Math.pow(x, 5)) - (15 * Math.pow(x, 4)) + (10 * Math.pow(x, 3))) / ((6 * Math.pow(y, 5)) - (15 * Math.pow(y, 4)) + (10 * Math.pow(y, 3)))\r\n}\r\n\r\nconst deviceList = {\r\n  '0': {\r\n    hashrate: 34, // Th/s\r\n    units: 'Th/s',\r\n    power: 1610, // W\r\n    cost: 1282, // $\r\n    name: 'DCR5',\r\n    link: 'https://www.cryptocompare.com/mining/bitmain/antminer-dr5-blake256r14-34ths/'\r\n  },\r\n  '1': {\r\n    hashrate: 44, // Th/s\r\n    units: 'Th/s',\r\n    power: 2200, // W\r\n    cost: 4199, // $\r\n    name: 'D1',\r\n    link: 'https://www.cryptocompare.com/mining/crypto-drilling/microbt-whatsminer-d1-plus-psu-dcr-44ths/'\r\n  }\r\n}\r\n\r\nconst externalAttackType = 'external'\r\nconst internalAttackType = 'internal'\r\n\r\nfunction legendFormatter (data) {\r\n  var html = ''\r\n  if (data.x == null) {\r\n    let dashLabels = data.series.reduce((nodes, series) => {\r\n      return `${nodes} <span>${series.labelHTML}</span>`\r\n    }, '')\r\n    html = `<span>${this.getLabels()[0]}: N/A</span>${dashLabels}`\r\n  } else {\r\n    let yVals = data.series.reduce((nodes, series) => {\r\n      if (!series.isVisible) return nodes\r\n      let precession = series.y >= 1 ? 2 : 6\r\n      return `${nodes} <span class=\"ml-3\">${series.labelHTML}:</span> &nbsp;${digitformat(series.y, precession)}x`\r\n    }, '<br>')\r\n\r\n    html = `<span>${this.getLabels()[0]}: ${digitformat(data.x, 1)}</span>${yVals}`\r\n  }\r\n  dompurify.sanitize(html)\r\n  return html\r\n}\r\n\r\nfunction nightModeOptions (nightModeOn) {\r\n  if (nightModeOn) {\r\n    return {\r\n      rangeSelectorAlpha: 0.3,\r\n      gridLineColor: '#596D81',\r\n      colors: ['#2DD8A3', '#2970FF', '#FFC84E']\r\n    }\r\n  }\r\n  return {\r\n    rangeSelectorAlpha: 0.4,\r\n    gridLineColor: '#C4CBD2',\r\n    colors: ['#2970FF', '#006600', '#FF0090']\r\n  }\r\n}\r\n\r\nexport default class extends Controller {\r\n  static get targets () {\r\n    return [\r\n      'actualHashRate', 'attackPercent', 'attackPeriod', 'blockHeight', 'countDevice', 'device',\r\n      'deviceCost', 'deviceDesc', 'deviceName', 'external', 'internal', 'internalHash', 'kwhRate',\r\n      'kwhRateLabel', 'otherCosts', 'otherCostsValue', 'priceDCR', 'internalAttackText', 'targetHashRate',\r\n      'externalAttackText', 'externalAttackPosText', 'additionalDcr', 'newTicketPoolValue', 'internalAttackPosText',\r\n      'additionalHashRate', 'newHashRate', 'targetPos', 'targetPow', 'ticketAttackSize', 'ticketPoolAttack', 'ticketPoolSize',\r\n      'ticketPoolSizeLabel', 'ticketPoolValue', 'ticketPrice', 'tickets', 'ticketSizeAttack', 'durationLongDesc',\r\n      'total', 'totalDCRPos', 'totalDeviceCost', 'totalElectricity', 'totalExtraCostRate', 'totalKwh', 'totalPos', 'totalPow',\r\n      'graph', 'labels', 'projectedTicketPrice', 'projectedTicketPriceIncrease', 'attackType', 'attackPosPercentAmountLabel',\r\n      'dcrPriceLabel', 'totalDCRPosLabel', 'projectedPriceDiv', 'attackNotPossibleWrapperDiv', 'coinSupply', 'totalAttackCostContainer'\r\n    ]\r\n  }\r\n\r\n  async connect () {\r\n    this.query = new TurboQuery()\r\n    this.settings = TurboQuery.nullTemplate([\r\n      'attack_time', 'target_pow', 'kwh_rate', 'other_costs', 'target_pos', 'price', 'device', 'attack_type'\r\n    ])\r\n\r\n    // Get initial view settings from the url\r\n    this.query.update(this.settings)\r\n\r\n    height = parseInt(this.data.get('height'))\r\n    hashrate = parseInt(this.data.get('hashrate'))\r\n    dcrPrice = parseFloat(this.data.get('dcrprice'))\r\n    tpPrice = parseFloat(this.data.get('ticketPrice'))\r\n    tpValue = parseFloat(this.data.get('ticketPoolValue'))\r\n    tpSize = parseInt(this.data.get('ticketPoolSize'))\r\n    coinSupply = parseInt(this.data.get('coinSupply'))\r\n\r\n    this.defaultSettings = {\r\n      attack_time: 1,\r\n      target_pow: 100,\r\n      kwh_rate: 0.1,\r\n      other_costs: 5,\r\n      target_pos: 51,\r\n      price: dcrPrice,\r\n      device: 0,\r\n      attack_type: externalAttackType\r\n    }\r\n\r\n    if (this.settings.attack_time) this.attackPeriodTarget.value = parseInt(this.settings.attack_time)\r\n    if (this.settings.target_pow) this.targetPowTarget.value = parseFloat(this.settings.target_pow)\r\n    if (this.settings.kwh_rate) this.kwhRateTarget.value = parseFloat(this.settings.kwh_rate)\r\n    if (this.settings.other_costs) this.otherCostsTarget.value = parseFloat(this.settings.other_cost)\r\n    if (this.settings.target_pos) this.setAllInputs(this.targetPosTargets, parseFloat(this.settings.target_pos))\r\n    if (this.settings.price) this.priceDCRTarget.value = parseFloat(this.settings.price)\r\n    if (this.settings.device) this.setDevice(this.settings.device)\r\n    if (this.settings.attack_type) this.attackTypeTarget.value = this.settings.attack_type\r\n    if (this.settings.target_pos) this.attackPercentTarget.value = parseInt(this.targetPosTarget.value) / 100\r\n\r\n    if (this.settings.attack_type !== internalAttackType) {\r\n      this.settings.attack_type = externalAttackType\r\n    }\r\n    this.setDevicesDesc()\r\n    this.updateSliderData()\r\n\r\n    Dygraph = await getDefault(\r\n      import(/* webpackChunkName: \"dygraphs\" */ '../vendor/dygraphs.min.js')\r\n    )\r\n\r\n    // dygraph does not provide a way to disable zoom on y-axis https://code.google.com/archive/p/dygraphs/issues/384\r\n    // this is a hack as doZoomY_ is marked as private\r\n    Dygraph.prototype.doZoomY_ = function (lowY, highY) {}\r\n\r\n    this.plotGraph()\r\n    this.processNightMode = (params) => {\r\n      this.chartsView.updateOptions(\r\n        nightModeOptions(params.nightMode)\r\n      )\r\n    }\r\n    globalEventBus.on('NIGHT_MODE', this.processNightMode)\r\n  }\r\n\r\n  disconnect () {\r\n    globalEventBus.off('NIGHT_MODE', this.processNightMode)\r\n    if (this.chartsView !== undefined) {\r\n      this.chartsView.destroy()\r\n    }\r\n  }\r\n\r\n  plotGraph () {\r\n    const that = this\r\n    graphData = []\r\n    this.ratioTable = new Map()\r\n\r\n    // populate graphData\r\n    // to avoid javascript decimal math issue, the iteration is done over whole number and reduced to the expected decimal value within the loop\r\n    for (let i = 10; i <= 1000; i += 5) {\r\n      const y = i / 1000\r\n      const x = rateCalculation(y)\r\n      this.ratioTable.set(x, y)\r\n      graphData.push([y * tpSize, x])\r\n    }\r\n\r\n    let options = {\r\n      ...nightModeOptions(false),\r\n      labels: ['Attackers Tickets', 'Hash Power Multiplier'],\r\n      ylabel: 'Hash Power Multiplier',\r\n      xlabel: 'Attackers Tickets',\r\n      axes: {\r\n        y: {\r\n          axisLabelWidth: 70\r\n        }\r\n      },\r\n      highlightSeriesOpts: { strokeWidth: 2 },\r\n      legendFormatter: legendFormatter,\r\n      hideOverlayOnMouseOut: false,\r\n      labelsDiv: this.labelsTarget,\r\n      labelsSeparateLines: true,\r\n      showRangeSelector: false,\r\n      labelsKMB: true,\r\n      legend: 'always',\r\n      logscale: true,\r\n      interactionModel: {\r\n        'click': function (e) {\r\n          that.attackPercentTarget.value = currentPoint.x\r\n          that.updateSliderData()\r\n        }\r\n      },\r\n      highlightCallback: function (event, x, p) {\r\n        currentPoint = p[0]\r\n      }\r\n    }\r\n\r\n    this.chartsView = new Dygraph(this.graphTarget, graphData, options)\r\n    this.chartsView.setAnnotations([{\r\n      series: 'Hashpower multiplier',\r\n      x: 0.51,\r\n      shortText: 'L',\r\n      text: '51% Attack'\r\n    }])\r\n    this.setActivePoint()\r\n  }\r\n\r\n  updateQueryString () {\r\n    const [query, settings, defaults] = [{}, this.settings, this.defaultSettings]\r\n    for (const k in settings) {\r\n      if (!settings[k] || settings[k].toString() === defaults[k].toString()) continue\r\n      query[k] = settings[k]\r\n    }\r\n    this.query.replace(query)\r\n  }\r\n\r\n  updateAttackTime () {\r\n    this.settings.attack_time = this.attackPeriodTarget.value\r\n    this.updateSliderData()\r\n  }\r\n\r\n  updateTargetPow (e) {\r\n    this.preserveTargetPow = true\r\n    var targetPercentage = parseFloat(e.currentTarget.value) / 100\r\n    var target = this.ratioTable.get(targetPercentage)\r\n    if (target === undefined) {\r\n      let previousKey = 0\r\n      let previousValue = 0\r\n      this.ratioTable.forEach((value, key) => {\r\n        if ((previousKey <= targetPercentage && targetPercentage <= key) || (previousKey >= targetPercentage && targetPercentage >= key)) {\r\n          const gap = Math.abs(key - targetPercentage)\r\n          const preGap = Math.abs(previousKey - targetPercentage)\r\n          if (gap < preGap) {\r\n            target = value\r\n          } else {\r\n            target = previousValue\r\n          }\r\n        }\r\n        previousKey = key\r\n        previousValue = value\r\n      })\r\n    }\r\n    this.attackPercentTarget.value = target\r\n    this.updateSliderData()\r\n  }\r\n\r\n  chooseDevice () {\r\n    this.settings.device = this.selectedDevice()\r\n    this.updateSliderData()\r\n  }\r\n\r\n  chooseAttackType () {\r\n    this.settings.attack_type = this.selectedAttackType()\r\n    this.updateSliderData()\r\n  }\r\n\r\n  updateKwhRate () {\r\n    this.settings.kwh_rate = this.kwhRateTarget.value\r\n    this.updateSliderData()\r\n  }\r\n\r\n  updateOtherCosts () {\r\n    this.settings.other_costs = this.otherCostsTarget.value\r\n    this.updateSliderData()\r\n  }\r\n\r\n  updateTargetPos (e) {\r\n    this.settings.target_pos = e.currentTarget.value\r\n    this.preserveTargetPoS = true\r\n    this.setAllInputs(this.targetPosTargets, e.currentTarget.value)\r\n    this.updateQueryString()\r\n    this.attackPercentTarget.value = parseFloat(this.targetPosTarget.value) / 100\r\n    this.updateSliderData()\r\n  }\r\n\r\n  updatePrice () {\r\n    this.settings.price = this.priceDCRTarget.value\r\n    dcrPrice = this.priceDCRTarget.value\r\n    this.updateSliderData()\r\n  }\r\n\r\n  selectedDevice () { return this.deviceTarget.value }\r\n\r\n  selectedAttackType () {\r\n    return this.attackTypeTarget.value\r\n  }\r\n\r\n  selectOption (options) {\r\n    let val = '0'\r\n    options.map((n) => { if (n.selected) val = n.value })\r\n    return val\r\n  }\r\n\r\n  setDevicesDesc () {\r\n    this.deviceDescTargets.map((n) => {\r\n      let info = deviceList[n.value]\r\n      if (!info) return\r\n      n.innerHTML = `${info.name}, ${info.hashrate} ${info.units}, ${info.power}w, $${digitformat(info.cost)} per unit`\r\n    })\r\n  }\r\n\r\n  setDevice (selectedVal) { return this.setOption(this.deviceTargets, selectedVal) }\r\n\r\n  setOption (options, selectedVal) {\r\n    options.map((n) => { n.selected = n.value === selectedVal })\r\n  }\r\n\r\n  setActivePoint () {\r\n    // Shows point whose details appear on the legend.\r\n    if (this.chartsView !== undefined) {\r\n      let val = Math.min(parseFloat(this.attackPercentTarget.value) || 0, 0.99)\r\n      let row = this.chartsView.getRowForX(val * tpSize)\r\n      this.chartsView.setSelection(row)\r\n    }\r\n  }\r\n\r\n  updateTargetHashRate () {\r\n    let ticketPercentage = parseFloat(this.targetPosTarget.value)\r\n    this.targetHashRate = hashrate * rateCalculation(ticketPercentage / 100)\r\n    const powPercentage = 100 * this.targetHashRate / hashrate\r\n    if (!this.preserveTargetPow) {\r\n      this.targetPowTarget.value = digitformat(powPercentage, 2, true)\r\n    } else {\r\n      this.preserveTargetPow = false\r\n    }\r\n    this.setAllValues(this.internalHashTargets, digitformat((this.targetHashRate), 4) + ' Ph/s ')\r\n    switch (this.settings.attack_type) {\r\n      case externalAttackType:\r\n        this.setAllValues(this.newHashRateTargets, digitformat(this.targetHashRate + hashrate, 4))\r\n        this.setAllValues(this.additionalHashRateTargets, digitformat(this.targetHashRate, 4))\r\n        this.projectedPriceDivTarget.style.display = 'block'\r\n        this.internalAttackTextTarget.classList.add('d-none')\r\n        this.internalAttackPosTextTarget.classList.add('d-none')\r\n        this.externalAttackTextTarget.classList.remove('d-none')\r\n        this.externalAttackPosTextTarget.classList.remove('d-node')\r\n        break\r\n      case internalAttackType:\r\n      default:\r\n        this.projectedPriceDivTarget.style.display = 'none'\r\n        this.externalAttackTextTarget.classList.add('d-none')\r\n        this.externalAttackPosTextTarget.classList.add('d-node')\r\n        this.internalAttackTextTarget.classList.remove('d-none')\r\n        this.internalAttackPosTextTarget.classList.remove('d-none')\r\n        break\r\n    }\r\n  }\r\n\r\n  updateSliderData () {\r\n    var val = Math.min(parseFloat(this.attackPercentTarget.value) || 0, 0.99)\r\n    // Makes PoS to be affected by the slider\r\n    // Target PoS value increases when slider moves to the right\r\n    if (!this.preserveTargetPoS) {\r\n      this.setAllInputs(this.targetPosTargets, val * 100)\r\n    } else {\r\n      this.preserveTargetPoS = false\r\n    }\r\n\r\n    this.updateTargetHashRate()\r\n    this.setActivePoint()\r\n\r\n    this.ticketsTarget.innerHTML = digitformat(val * tpSize) + ' tickets '\r\n    switch (this.settings.attack_type) {\r\n      case externalAttackType:\r\n        this.hideAll(this.internalAttackPosTextTargets)\r\n        this.showAll(this.externalAttackPosTextTargets)\r\n        break\r\n      case internalAttackType:\r\n      default:\r\n        this.hideAll(this.externalAttackPosTextTargets)\r\n        this.showAll(this.internalAttackPosTextTargets)\r\n    }\r\n\r\n    this.calculate(true)\r\n  }\r\n\r\n  calculate (disableHashRateUpdate) {\r\n    if (!disableHashRateUpdate) this.updateTargetHashRate()\r\n\r\n    this.updateQueryString()\r\n    var deviceInfo = deviceList[this.selectedDevice()]\r\n    var deviceCount = Math.ceil((this.targetHashRate * 1000) / deviceInfo.hashrate)\r\n    var totalDeviceCost = deviceCount * deviceInfo.cost\r\n    var totalKwh = deviceCount * deviceInfo.power * parseFloat(this.attackPeriodTarget.value) / 1000\r\n    var totalElectricity = totalKwh * parseFloat(this.kwhRateTarget.value)\r\n    var extraCost = parseFloat(this.otherCostsTarget.value) / 100 * (totalDeviceCost + totalElectricity)\r\n    var totalPow = extraCost + totalDeviceCost + totalElectricity\r\n    var ticketAttackSize, DCRNeed\r\n    if (this.settings.attack_type === externalAttackType) {\r\n      DCRNeed = tpValue / (1 - parseFloat(this.targetPosTarget.value) / 100)\r\n      this.setAllValues(this.newTicketPoolValueTargets, digitformat(DCRNeed, 2))\r\n      this.setAllValues(this.additionalDcrTargets, digitformat(DCRNeed - tpValue, 2))\r\n    } else {\r\n      ticketAttackSize = (tpSize * parseFloat(this.targetPosTarget.value)) / 100\r\n      DCRNeed = tpValue * (parseFloat(this.targetPosTarget.value) / 100)\r\n      this.setAllValues(this.ticketPoolAttackTargets, digitformat(DCRNeed))\r\n    }\r\n    var projectedTicketPrice = DCRNeed / tpSize\r\n    this.projectedTicketPriceIncreaseTarget.innerHTML = digitformat(100 * (projectedTicketPrice - tpPrice) / tpPrice, 2)\r\n    this.ticketPoolValueTarget.innerHTML = digitformat(hashrate, 3)\r\n\r\n    var totalDCRPos = this.settings.attack_type === externalAttackType ? DCRNeed - tpValue : ticketAttackSize * projectedTicketPrice\r\n    var totalPos = totalDCRPos * dcrPrice\r\n    var timeStr = this.attackPeriodTarget.value\r\n    timeStr = this.attackPeriodTarget.value > 1 ? timeStr + ' hours' : timeStr + ' hour'\r\n    this.ticketPoolSizeLabelTarget.innerHTML = digitformat(tpSize, 2)\r\n    this.setAllValues(this.actualHashRateTargets, digitformat(hashrate, 4))\r\n    this.priceDCRTarget.value = digitformat(dcrPrice, 2)\r\n    this.setAllInputs(this.targetPosTargets, digitformat(parseFloat(this.targetPosTarget.value), 2))\r\n    this.ticketPriceTarget.innerHTML = digitformat(tpPrice, 4)\r\n    this.setAllValues(this.targetHashRateTargets, digitformat(this.targetHashRate, 4))\r\n    this.setAllValues(this.additionalHashRateTargets, digitformat(this.targetHashRate, 4))\r\n    this.setAllValues(this.durationLongDescTargets, timeStr)\r\n    this.setAllValues(this.countDeviceTargets, digitformat(deviceCount))\r\n    this.setAllValues(this.deviceNameTargets, `<a href=\"${deviceInfo.link}\">${deviceInfo.name}</a>s`)\r\n    this.setAllValues(this.totalDeviceCostTargets, digitformat(totalDeviceCost))\r\n    this.setAllValues(this.totalKwhTargets, digitformat(totalKwh, 2))\r\n    this.setAllValues(this.totalElectricityTargets, digitformat(totalElectricity, 2))\r\n    this.setAllValues(this.otherCostsValueTargets, digitformat(extraCost, 2))\r\n    this.setAllValues(this.totalPowTargets, digitformat(totalPow, 2))\r\n    this.setAllValues(this.ticketSizeAttackTargets, digitformat(ticketAttackSize))\r\n    this.setAllValues(this.totalDCRPosTargets, digitformat(totalDCRPos, 2))\r\n    this.setAllValues(this.totalPosTargets, digitformat(totalPos))\r\n    this.setAllValues(this.ticketPoolValueTargets, digitformat(tpValue))\r\n    this.setAllValues(this.ticketPoolSizeTargets, digitformat(tpSize))\r\n    this.blockHeightTarget.innerHTML = digitformat(height)\r\n    this.totalTarget.innerHTML = digitformat(totalPow + totalPos, 2)\r\n    this.projectedTicketPriceTarget.innerHTML = digitformat(projectedTicketPrice, 2)\r\n    // this.attackPosPercentNeededLabelTarget.innerHTML = digitformat(this.targetPosTarget.value, 2)\r\n    this.attackPosPercentAmountLabelTarget.innerHTML = digitformat(this.targetPosTarget.value, 2)\r\n    this.setAllValues(this.totalDCRPosLabelTargets, digitformat(totalDCRPos, 2))\r\n    this.setAllValues(this.dcrPriceLabelTargets, digitformat(dcrPrice, 2))\r\n    this.showPosCostWarning(DCRNeed)\r\n  }\r\n\r\n  setAllValues (targets, data) {\r\n    targets.forEach((n) => { n.innerHTML = data })\r\n  }\r\n\r\n  setAllInputs (targets, data) {\r\n    targets.forEach((n) => { n.value = data })\r\n  }\r\n\r\n  hideAll (targets) {\r\n    targets.forEach(el => el.classList.add('d-none'))\r\n  }\r\n\r\n  showAll (targets) {\r\n    targets.forEach(el => el.classList.remove('d-none'))\r\n  }\r\n\r\n  showPosCostWarning (DCRNeed) {\r\n    var totalDCRInCirculation = coinSupply / 100000000\r\n    if (DCRNeed > totalDCRInCirculation) {\r\n      this.coinSupplyTarget.textContent = digitformat(totalDCRInCirculation, 2)\r\n      this.totalAttackCostContainerTarget.style.cssText = 'color: #f12222 !important'\r\n      this.showAll(this.attackNotPossibleWrapperDivTargets)\r\n    } else {\r\n      this.totalAttackCostContainerTarget.style.cssText = 'color: #6c757d !important'\r\n      this.hideAll(this.attackNotPossibleWrapperDivTargets)\r\n    }\r\n  }\r\n}\r\n","// MessageSocket is a WebSocket manager with an assumed JSON message format.\r\n//\r\n// JSON message format:\r\n// {\r\n//   event: name,\r\n//   message: your message data\r\n// }\r\n//\r\n// Functions for external use:\r\n// register(id, handler_function) -- register a function to handle events of\r\n//     the given type\r\n// send(id, data) -- create a JSON message in the above format and send it\r\n//\r\n// Copyright (c) 2017, Jonathan Chappelow\r\n// See LICENSE for details.\r\n//\r\n// Based on ws_events_dispatcher.js by Ismael Celis\r\n\r\nfunction forward (event, message, handlers) {\r\n  if (typeof handlers[event] === 'undefined') return\r\n  // call each handler\r\n  for (var i = 0; i < handlers[event].length; i++) {\r\n    handlers[event][i](message)\r\n  }\r\n}\r\n\r\nclass MessageSocket {\r\n  constructor () {\r\n    this.uri = undefined\r\n    this.connection = undefined\r\n    this.handlers = {}\r\n    this.queue = []\r\n    this.maxQlength = 5\r\n  }\r\n\r\n  registerEvtHandler (eventID, handler) {\r\n    this.handlers[eventID] = this.handlers[eventID] || []\r\n    this.handlers[eventID].push(handler)\r\n  }\r\n\r\n  deregisterEvtHandlers (eventID) {\r\n    this.handlers[eventID] = []\r\n  }\r\n\r\n  // send a message back to the server\r\n  send (eventID, message) {\r\n    if (this.connection === undefined) {\r\n      while (this.queue.length > this.maxQlength - 1) this.queue.shift()\r\n      this.queue.push([eventID, message])\r\n      return\r\n    }\r\n    var payload = JSON.stringify({\r\n      event: eventID,\r\n      message: message\r\n    })\r\n\r\n    if (window.loggingDebug) console.log('send', payload)\r\n    this.connection.send(payload)\r\n  }\r\n\r\n  connect (uri) {\r\n    this.uri = uri\r\n    this.connection = new window.WebSocket(uri)\r\n\r\n    this.close = (reason) => {\r\n      console.log('close, reason:', reason, this.handlers)\r\n      clearTimeout(pinger)\r\n      this.handlers = {}\r\n      this.connection.close()\r\n    }\r\n\r\n    // unmarshal message, and forward the message to registered handlers\r\n    this.connection.onmessage = (evt) => {\r\n      var json = JSON.parse(evt.data)\r\n      forward(json.event, json.message, this.handlers)\r\n    }\r\n\r\n    // Stub out standard functions\r\n    this.connection.onclose = () => {\r\n      forward('close', null, this.handlers)\r\n    }\r\n    this.connection.onopen = () => {\r\n      forward('open', null, this.handlers)\r\n      while (this.queue.length) {\r\n        let eventID, message\r\n        [eventID, message] = this.queue.shift()\r\n        this.send(eventID, message)\r\n      }\r\n    }\r\n    this.connection.onerror = (evt) => {\r\n      forward('error', evt, this.handlers)\r\n    }\r\n\r\n    // Start ping pong\r\n    var pinger = setInterval(() => {\r\n      this.send('ping', 'sup')\r\n    }, 7000)\r\n  }\r\n}\r\n\r\nlet ws = new MessageSocket()\r\nexport default ws\r\n","/* global Turbolinks */\r\nimport { Controller } from 'stimulus'\r\nimport dompurify from 'dompurify'\r\nimport ws from '../services/messagesocket_service'\r\nimport Notify from 'notifyjs'\r\nimport globalEventBus from '../services/event_bus_service'\r\n\r\nfunction buildProgressBar (data) {\r\n  var clean = dompurify.sanitize\r\n  var progressVal = data.percentage_complete\r\n  var timeRemaining = humanizeTime(data.seconds_to_complete)\r\n  var htmlString = data.bar_msg.length > 0 ? clean(`<p style=\"font-size:14px;\">${data.bar_msg}</p>`, { FORBID_TAGS: ['svg', 'math'] }) : ''\r\n  var subtitle = data.subtitle.trim()\r\n  var notifStr = subtitle.length > 0 ? clean(`<span style=\"font-size:11px;\">notification : <i>${subtitle}</i></span>`, { FORBID_TAGS: ['svg', 'math'] }) : ''\r\n\r\n  var remainingStr = 'pending'\r\n  if (progressVal > 0) {\r\n    remainingStr = data.seconds_to_complete > 0 ? 'remaining approx.  ' + timeRemaining : '0sec'\r\n  }\r\n\r\n  if (progressVal === 100) {\r\n    remainingStr = 'done'\r\n  }\r\n\r\n  if (subtitle === 'sync complete') {\r\n    notifStr = ''\r\n  }\r\n\r\n  return htmlString + clean(`<div class=\"progress\" style=\"height:30px;border-radius:5px;\">\r\n                <div class=\"progress-bar sync-progress-bar\" role=\"progressbar\" style=\"height:auto; width:` + progressVal + `%;\">\r\n                <span class=\"nowrap pl-1 font-weight-bold\">Progress ` + progressVal + '% (' + remainingStr + `)</span>\r\n                </div>\r\n            </div>`, { FORBID_TAGS: ['svg', 'math'] }) + notifStr\r\n}\r\n\r\nfunction humanizeTime (secs) {\r\n  var years = Math.floor(secs / 31536000) % 10\r\n  var months = Math.floor(secs / 2628000) % 12\r\n  var weeks = Math.floor(secs / 604800) % 4\r\n  var days = Math.floor(secs / 86400) % 7\r\n  var hours = Math.floor(secs / 3600) % 24\r\n  var minutes = Math.floor(secs / 60) % 60\r\n  var seconds = secs % 60\r\n  var timeUnit = ['yr', 'mo', 'wk', 'd', 'hr', 'min', 'sec']\r\n\r\n  return [years, months, weeks, days, hours, minutes, seconds]\r\n    .map((v, i) => v !== 0 ? v + '' + timeUnit[i] : '')\r\n    .join('  ')\r\n}\r\n\r\nfunction doNotification () {\r\n  var newBlockNtfn = new Notify('Blockchain Sync Complete', {\r\n    body: 'Redirecting to home in 20 secs.',\r\n    tag: 'blockheight',\r\n    image: '/images/dcrdata144x128.png',\r\n    icon: '/images/dcrdata144x128.png',\r\n    notifyShow: Notify.onShowNotification,\r\n    notifyClose: Notify.onCloseNotification,\r\n    notifyClick: Notify.onClickNotification,\r\n    notifyError: Notify.onErrorNotification,\r\n    timeout: 10\r\n  })\r\n  newBlockNtfn.show()\r\n}\r\n\r\nlet hasRedirected = false\r\n\r\nexport default class extends Controller {\r\n  static get targets () {\r\n    return ['statusSyncing', 'futureBlock', 'init', 'address', 'message']\r\n  }\r\n\r\n  connect () {\r\n    this.progressBars = {\r\n      'initial-load': this.initTarget,\r\n      'addresses-sync': this.addressTarget\r\n    }\r\n    ws.registerEvtHandler('blockchainSync', (evt) => {\r\n      var d = JSON.parse(evt)\r\n      var i\r\n\r\n      for (i = 0; i < d.length; i++) {\r\n        var v = d[i]\r\n\r\n        var bar = this.progressBars[v.progress_bar_id]\r\n        while (bar.firstChild) bar.removeChild(bar.firstChild)\r\n        bar.innerHTML = buildProgressBar(v)\r\n\r\n        if (v.subtitle === 'sync complete' && !hasRedirected) {\r\n          hasRedirected = true // block consecutive calls.\r\n          if (!Notify.needsPermission) doNotification()\r\n\r\n          this.messageTarget.querySelector('h5').textContent = 'Blockchain sync is complete. Redirecting to home in 20 secs.'\r\n          setTimeout(() => Turbolinks.visit('/'), 20000)\r\n          return\r\n        }\r\n      }\r\n    })\r\n    this.processBlock = this._processBlock.bind(this)\r\n    globalEventBus.on('BLOCK_RECEIVED', this.processBlock)\r\n  }\r\n\r\n  disconnect () {\r\n    ws.deregisterEvtHandlers('blockchainSync')\r\n    globalEventBus.off('BLOCK_RECEIVED', this.processBlock)\r\n  }\r\n\r\n  _processBlock (blockData) {\r\n    if (this.hasFutureBlockTarget) {\r\n      Turbolinks.visit(window.location, { action: 'replace' })\r\n    }\r\n  }\r\n}\r\n","import { remove } from 'lodash-es'\r\n\r\nconst eventCallbacksPairs = []\r\n\r\nfunction findEventCallbacksPair (eventType) {\r\n  return eventCallbacksPairs.find(eventObject => eventObject.eventType === eventType)\r\n}\r\n\r\nfunction EventCallbacksPair (eventType, callback) {\r\n  this.eventType = eventType\r\n  this.callbacks = [callback]\r\n}\r\n\r\nclass EventBus {\r\n  on (eventType, callback) {\r\n    const eventCallbacksPair = findEventCallbacksPair(eventType)\r\n    if (eventCallbacksPair) {\r\n      eventCallbacksPair.callbacks.push(callback)\r\n    } else {\r\n      eventCallbacksPairs.push(new EventCallbacksPair(eventType, callback))\r\n    }\r\n  }\r\n\r\n  off (eventType, callback) {\r\n    const eventCallbacksPair = findEventCallbacksPair(eventType)\r\n    if (eventCallbacksPair) {\r\n      remove(eventCallbacksPair.callbacks, (cb) => {\r\n        return cb === callback\r\n      })\r\n    }\r\n  }\r\n\r\n  publish (eventType, args) {\r\n    const eventCallbacksPair = findEventCallbacksPair(eventType)\r\n    if (!eventCallbacksPair) return\r\n    eventCallbacksPair.callbacks.forEach(callback => callback(args))\r\n  }\r\n}\r\n\r\nlet eventBusInstance = new EventBus()\r\nexport default eventBusInstance\r\n","export function setCookie (cname, cvalue, exMins) {\r\n  var d = new Date()\r\n  d.setTime(d.getTime() + (exMins * 60 * 1000))\r\n  var expires = 'expires=' + d.toUTCString()\r\n  document.cookie = cname + '=' + cvalue + ';' + expires + ';path=/'\r\n}\r\n","import { setCookie } from './cookie_service'\r\nimport globalEventBus from './event_bus_service'\r\n\r\nvar sunIcon = document.getElementById('sun-icon')\r\nvar darkBGCookieName = 'pdanalyticsDarkBG'\r\n\r\nexport function darkEnabled () {\r\n  return document.cookie.includes(darkBGCookieName)\r\n}\r\n\r\nfunction menuToggle () {\r\n  return document.querySelector('#menuToggle input')\r\n}\r\n\r\nif (darkEnabled()) {\r\n  toggleToDarkClasses(document.body)\r\n} else {\r\n  toggleToLightClasses(document.body)\r\n}\r\nfunction toggleToDarkClasses (body) {\r\n  sunIcon.classList.remove('dcricon-sun-fill')\r\n  sunIcon.classList.add('dcricon-sun-stroke')\r\n  body.classList.add('darkBG')\r\n}\r\nfunction toggleToLightClasses (body) {\r\n  body.classList.remove('darkBG')\r\n  sunIcon.classList.remove('dcricon-sun-stroke')\r\n  sunIcon.classList.add('dcricon-sun-fill')\r\n}\r\nexport function toggleSun () {\r\n  if (darkEnabled()) {\r\n    setCookie(darkBGCookieName, '', 0)\r\n    toggleToLightClasses(document.body)\r\n    globalEventBus.publish('NIGHT_MODE', { nightMode: false })\r\n  } else {\r\n    setCookie(darkBGCookieName, 1, 525600)\r\n    toggleToDarkClasses(document.body)\r\n    globalEventBus.publish('NIGHT_MODE', { nightMode: true })\r\n  }\r\n}\r\n\r\ndocument.addEventListener('turbolinks:before-render', function (event) {\r\n  if (darkEnabled()) {\r\n    toggleToDarkClasses(event.data.newBody)\r\n  } else {\r\n    toggleToLightClasses(event.data.newBody)\r\n  }\r\n})\r\n\r\nexport function toggleMenu () {\r\n  var checkbox = menuToggle()\r\n  checkbox.checked = !checkbox.checked\r\n  checkbox.dispatchEvent(new window.Event('change'))\r\n}\r\n\r\nexport function closeMenu () {\r\n  var checkbox = menuToggle()\r\n  if (!checkbox.checked) return\r\n  checkbox.checked = false\r\n  checkbox.dispatchEvent(new window.Event('change'))\r\n}\r\n"],"sourceRoot":""}